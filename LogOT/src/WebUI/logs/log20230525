2023-05-25 22:53:57.679 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-25 22:53:58.638 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-25 22:53:58.644 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-25 22:53:59.285 +07:00 [DBG] The property 'DetailTaxIncome.PaySlipId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-05-25 22:53:59.288 +07:00 [DBG] The property 'Employee.DepartmentId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-05-25 22:53:59.291 +07:00 [DBG] The property 'Experience.EmployeeId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-05-25 22:53:59.294 +07:00 [DBG] The property 'RequestChange.EmployeeId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-05-25 22:53:59.297 +07:00 [DBG] The property 'Colour.TodoListId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-05-25 22:54:00.051 +07:00 [DBG] Entity Framework Core 7.0.2 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.2' with options: MigrationsAssembly=mentor_v1.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2023-05-25 22:54:00.087 +07:00 [DBG] Creating DbConnection.
2023-05-25 22:54:00.390 +07:00 [DBG] Created DbConnection. (301ms).
2023-05-25 22:54:00.396 +07:00 [DBG] Migrating using database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:00.409 +07:00 [DBG] Opening connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.227 +07:00 [DBG] Opened connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.237 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.249 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2023-05-25 22:54:01.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (21ms).
2023-05-25 22:54:01.267 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-05-25 22:54:01.308 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-05-25 22:54:01.315 +07:00 [DBG] Closing connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.328 +07:00 [DBG] Closed connection to database 'LogOT-new' on server '(local)' (8ms).
2023-05-25 22:54:01.336 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-25 22:54:01.338 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-25 22:54:01.341 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2023-05-25 22:54:01.343 +07:00 [DBG] Opening connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.346 +07:00 [DBG] Opened connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.349 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-05-25 22:54:01.373 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-05-25 22:54:01.377 +07:00 [DBG] Closing connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.380 +07:00 [DBG] Closed connection to database 'LogOT-new' on server '(local)' (2ms).
2023-05-25 22:54:01.385 +07:00 [DBG] Opening connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.388 +07:00 [DBG] Opened connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.390 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.392 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-05-25 22:54:01.394 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-05-25 22:54:01.397 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-05-25 22:54:01.403 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-05-25 22:54:01.407 +07:00 [DBG] Closing connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.409 +07:00 [DBG] Closed connection to database 'LogOT-new' on server '(local)' (2ms).
2023-05-25 22:54:01.412 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-25 22:54:01.414 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-05-25 22:54:01.416 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2023-05-25 22:54:01.419 +07:00 [DBG] Opening connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.422 +07:00 [DBG] Opened connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.424 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-05-25 22:54:01.428 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-05-25 22:54:01.432 +07:00 [DBG] Closing connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.435 +07:00 [DBG] Closed connection to database 'LogOT-new' on server '(local)' (3ms).
2023-05-25 22:54:01.454 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 22:54:01.456 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-25 22:54:01.459 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-05-25 22:54:01.461 +07:00 [DBG] Opening connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.463 +07:00 [DBG] Opened connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.467 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-05-25 22:54:01.483 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-05-25 22:54:01.491 +07:00 [DBG] Closing data reader to 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.495 +07:00 [DBG] A data reader for 'LogOT-new' on server '(local)' is being disposed after spending 5ms reading results.
2023-05-25 22:54:01.498 +07:00 [DBG] Closing connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.501 +07:00 [DBG] Closed connection to database 'LogOT-new' on server '(local)' (2ms).
2023-05-25 22:54:01.519 +07:00 [INF] Applying migration '20230525151730_updateDepartment'.
2023-05-25 22:54:01.803 +07:00 [DBG] Opening connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.806 +07:00 [DBG] Opened connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:01.810 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-25 22:54:01.821 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-05-25 22:54:01.824 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.826 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-05-25 22:54:01.829 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2023-05-25 22:54:01.831 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employee] ADD [DepartmentId] uniqueidentifier NULL;
2023-05-25 22:54:01.844 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employee] ADD [DepartmentId] uniqueidentifier NULL;
2023-05-25 22:54:01.849 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.851 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-05-25 22:54:01.854 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2023-05-25 22:54:01.857 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Allowance] (
    [Id] uniqueidentifier NOT NULL,
    [EmployeeId] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Type] int NOT NULL,
    [Amount] float NOT NULL,
    [Eligibility_Criteria] nvarchar(max) NOT NULL,
    [Requirements] nvarchar(max) NOT NULL,
    [Created] datetime2 NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [LastModified] datetime2 NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Allowance] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Allowance_EmployeeContract_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [EmployeeContract] ([Id]) ON DELETE CASCADE
);
2023-05-25 22:54:01.875 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Allowance] (
    [Id] uniqueidentifier NOT NULL,
    [EmployeeId] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Type] int NOT NULL,
    [Amount] float NOT NULL,
    [Eligibility_Criteria] nvarchar(max) NOT NULL,
    [Requirements] nvarchar(max) NOT NULL,
    [Created] datetime2 NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [LastModified] datetime2 NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Allowance] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Allowance_EmployeeContract_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [EmployeeContract] ([Id]) ON DELETE CASCADE
);
2023-05-25 22:54:01.880 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.882 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-05-25 22:54:01.886 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2023-05-25 22:54:01.889 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Department] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Created] datetime2 NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [LastModified] datetime2 NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Department] PRIMARY KEY ([Id])
);
2023-05-25 22:54:01.900 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Department] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Created] datetime2 NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [LastModified] datetime2 NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Department] PRIMARY KEY ([Id])
);
2023-05-25 22:54:01.906 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.908 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-05-25 22:54:01.910 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-05-25 22:54:01.913 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Position] (
    [Id] uniqueidentifier NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [EmployeeId] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [PositionLevel] int NOT NULL,
    [Created] datetime2 NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [LastModified] datetime2 NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Position] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Position_Department_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Department] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Position_Employee_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [Employee] ([Id]) ON DELETE CASCADE
);
2023-05-25 22:54:01.922 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Position] (
    [Id] uniqueidentifier NOT NULL,
    [DepartmentId] uniqueidentifier NOT NULL,
    [EmployeeId] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [PositionLevel] int NOT NULL,
    [Created] datetime2 NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [LastModified] datetime2 NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Position] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Position_Department_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Department] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Position_Employee_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [Employee] ([Id]) ON DELETE CASCADE
);
2023-05-25 22:54:01.927 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.929 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-05-25 22:54:01.931 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-05-25 22:54:01.934 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Employee_DepartmentId] ON [Employee] ([DepartmentId]);
2023-05-25 22:54:01.941 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Employee_DepartmentId] ON [Employee] ([DepartmentId]);
2023-05-25 22:54:01.945 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.947 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-05-25 22:54:01.949 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-05-25 22:54:01.952 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Allowance_EmployeeId] ON [Allowance] ([EmployeeId]);
2023-05-25 22:54:01.957 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Allowance_EmployeeId] ON [Allowance] ([EmployeeId]);
2023-05-25 22:54:01.961 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.963 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-05-25 22:54:01.965 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-05-25 22:54:01.968 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Position_DepartmentId] ON [Position] ([DepartmentId]);
2023-05-25 22:54:01.973 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Position_DepartmentId] ON [Position] ([DepartmentId]);
2023-05-25 22:54:01.977 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.979 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-05-25 22:54:01.981 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-05-25 22:54:01.984 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Position_EmployeeId] ON [Position] ([EmployeeId]);
2023-05-25 22:54:01.989 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Position_EmployeeId] ON [Position] ([EmployeeId]);
2023-05-25 22:54:01.992 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:01.994 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-05-25 22:54:01.997 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-05-25 22:54:01.999 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employee] ADD CONSTRAINT [FK_Employee_Department_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Department] ([Id]);
2023-05-25 22:54:02.005 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Employee] ADD CONSTRAINT [FK_Employee_Department_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Department] ([Id]);
2023-05-25 22:54:02.008 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-05-25 22:54:02.010 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-05-25 22:54:02.013 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-05-25 22:54:02.015 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230525151730_updateDepartment', N'7.0.2');
2023-05-25 22:54:02.021 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230525151730_updateDepartment', N'7.0.2');
2023-05-25 22:54:02.027 +07:00 [DBG] Committing transaction.
2023-05-25 22:54:02.034 +07:00 [DBG] Committed transaction.
2023-05-25 22:54:02.038 +07:00 [DBG] Disposing transaction.
2023-05-25 22:54:02.040 +07:00 [DBG] Closing connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:02.042 +07:00 [DBG] Closed connection to database 'LogOT-new' on server '(local)' (2ms).
2023-05-25 22:54:02.047 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-05-25 22:54:02.053 +07:00 [DBG] Disposing connection to database 'LogOT-new' on server '(local)'.
2023-05-25 22:54:02.056 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
